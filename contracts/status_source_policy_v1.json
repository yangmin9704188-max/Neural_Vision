{
  "policy_version": "status_source_policy.v1",
  "status_sources": [
    {
      "id": "work_brief_progress_log",
      "description": "Derived from PROGRESS_LOG via *_WORK_BRIEF.md",
      "timestamp_field": "brief_mtime"
    },
    {
      "id": "smoke_status_summary",
      "description": "Module-local smoke aggregate summary",
      "timestamp_field": "updated_at"
    }
  ],
  "status_selection_rule": {
    "type": "latest_updated_at",
    "fallback_order": ["work_brief_progress_log", "smoke_status_summary"]
  },
  "status_vs_signal_policy": {
    "status_selection_sources_only": ["work_brief_progress_log", "smoke_status_summary"],
    "signal_source": "m1_latest_signal",
    "signal_role": "readiness_only",
    "signal_participates_in_status_selection": false,
    "tie_breaker_on_same_timestamp": "fallback_order"
  },
  "step_id_missing_aggregation_policy": {
    "scope": "module_local",
    "missing_condition": "step_id == UNSPECIFIED",
    "backfill_condition": "STEP_ID_BACKFILLED in gate_codes|gate_code|warnings",
    "net_formula": "max(0, missing_count - backfilled_count)",
    "status_blockers_window_events": 50,
    "work_brief_last_step_excludes": ["UNSPECIFIED"]
  },
  "signal_sources": [
    {
      "id": "m1_latest_signal",
      "path_pattern": "ops/signals/m1/<module>/LATEST.json",
      "timestamp_field": "created_at_utc",
      "note": "Readiness signal only; not used as status source"
    }
  ],
  "dashboard_noise_policy": {
    "hide_raw_paths": true,
    "show_path_class_counts": true
  }
}
