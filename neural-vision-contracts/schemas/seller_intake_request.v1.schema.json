{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "contracts/schemas/seller_intake_request.v1.schema.json",
  "title": "seller_intake_request.v1",
  "description": "Request schema for POST /api/v1/seller/intake. Accepts garment information from sellers to generate garment proxy artifacts.",
  "type": "object",
  "required": [
    "seller_id",
    "garment_id",
    "garment_type",
    "images"
  ],
  "additionalProperties": true,
  "properties": {
    "seller_id": {
      "type": "string",
      "minLength": 1,
      "description": "Seller account identifier"
    },
    "garment_id": {
      "type": "string",
      "minLength": 1,
      "description": "Unique garment/product identifier"
    },
    "garment_type": {
      "type": "string",
      "enum": ["top", "bottom", "dress", "outerwear", "other"],
      "description": "Garment category"
    },
    "images": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["url", "view"],
        "additionalProperties": true,
        "properties": {
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Image URL (pre-signed or public)"
          },
          "view": {
            "type": "string",
            "enum": ["front", "back", "side", "detail", "flat"],
            "description": "Camera view angle"
          }
        }
      },
      "description": "Garment product images (at least one required)"
    },
    "metadata": {
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "brand": {
          "type": "string",
          "description": "Brand name"
        },
        "size_label": {
          "type": "string",
          "description": "Size label as displayed to consumers (e.g., 'M', '100')"
        },
        "material": {
          "type": "string",
          "description": "Primary material description"
        },
        "color": {
          "type": "string",
          "description": "Primary color"
        }
      },
      "description": "Optional garment metadata"
    },
    "idempotency_key": {
      "type": "string",
      "description": "Optional idempotency key for deduplication"
    }
  }
}
